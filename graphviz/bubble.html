<!DOCTYPE html>

<div id="chart"></div>
<meta charset="utf-8">
<style>

text {
  font: 10px sans-serif;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

// var json = {"name":"anvisha", "children":[{"name":"__future__top", "children":[{"name": "__future__", "size":0}]},{"name":"Flasktop", "children":[{"name": "Flask", "size":0}]},{"name":"mimeparsetop", "children":[{"name": "mimeparse", "size":0}]},{"name":"unittesttop", "children":[{"name": "unittest", "size":1}]},{"name":"randomtop", "children":[{"name": "random", "size":2}]},{"name":"mimetypestop", "children":[{"name": "mimetypes", "size":0}]},{"name":"cryptotop", "children":[{"name": "crypto", "size":14}]},{"name":"contextlibtop", "children":[{"name": "contextlib", "size":0}]},{"name":"urllibtop", "children":[{"name": "urllib", "size":30}]},{"name":"BaseHTTPServertop", "children":[{"name": "BaseHTTPServer", "size":1}]},{"name":"calendartop", "children":[{"name": "calendar", "size":1}]},{"name":"oauth2clienttop", "children":[{"name": "oauth2client", "size":31}]},{"name":"uritemplatetop", "children":[{"name": "uritemplate", "size":2}]},{"name":"PILtop", "children":[{"name": "PIL", "size":0}]},{"name":"structtop", "children":[{"name": "struct", "size":8}]},{"name":"shatop", "children":[{"name": "sha", "size":0}]},{"name":"base64top", "children":[{"name": "base64", "size":9}]},{"name":"gettexttop", "children":[{"name": "gettext", "size":0}]},{"name":"retop", "children":[{"name": "re", "size":27}]},{"name":"jsontop", "children":[{"name": "json", "size":0}]},{"name":"foursquaretop", "children":[{"name": "foursquare", "size":6}]},{"name":"collectionstop", "children":[{"name": "collections", "size":3}]},{"name":"sqlite3top", "children":[{"name": "sqlite3", "size":0}]},{"name":"getopttop", "children":[{"name": "getopt", "size":7}]},{"name":"smtplibtop", "children":[{"name": "smtplib", "size":1}]},{"name":"translatetop", "children":[{"name": "translate", "size":4}]},{"name":"numpytop", "children":[{"name": "numpy", "size":32}]},{"name":"emailtop", "children":[{"name": "email", "size":11}]},{"name":"tweepytop", "children":[{"name": "tweepy", "size":10}]},{"name":"cgitop", "children":[{"name": "cgi", "size":2}]},{"name":"stattop", "children":[{"name": "stat", "size":0}]},{"name":"stringtop", "children":[{"name": "string", "size":10}]},{"name":"simplejsontop", "children":[{"name": "simplejson", "size":28}]},{"name":"modelstop", "children":[{"name": "models", "size":1656}]},{"name":"inspecttop", "children":[{"name": "inspect", "size":0}]},{"name":"dbtop", "children":[{"name": "db", "size":1696}]},{"name":"hashlibtop", "children":[{"name": "hashlib", "size":0}]},{"name":"Queuetop", "children":[{"name": "Queue", "size":0}]},{"name":"webbrowsertop", "children":[{"name": "webbrowser", "size":0}]},{"name":"httplib2top", "children":[{"name": "httplib2", "size":70}]},{"name":"copytop", "children":[{"name": "copy", "size":6}]},{"name":"requeststop", "children":[{"name": "requests", "size":6}]},{"name":"typestop", "children":[{"name": "types", "size":0}]},{"name":"md5top", "children":[{"name": "md5", "size":1}]},{"name":"utctop", "children":[{"name": "utc", "size":0}]},{"name":"httplibtop", "children":[{"name": "httplib", "size":19}]},{"name":"oauth2top", "children":[{"name": "oauth2", "size":3}]},{"name":"loggingtop", "children":[{"name": "logging", "size":14}]},{"name":"sockettop", "children":[{"name": "socket", "size":61}]},{"name":"keywordtop", "children":[{"name": "keyword", "size":0}]},{"name":"StringIOtop", "children":[{"name": "StringIO", "size":1}]},{"name":"utiltop", "children":[{"name": "util", "size":46}]},{"name":"ostop", "children":[{"name": "os", "size":41}]},{"name":"tracebacktop", "children":[{"name": "traceback", "size":0}]},{"name":"keyringtop", "children":[{"name": "keyring", "size":3}]},{"name":"uuidtop", "children":[{"name": "uuid", "size":0}]},{"name":"fetchtop", "children":[{"name": "fetch", "size":0}]},{"name":"urlparsetop", "children":[{"name": "urlparse", "size":6}]},{"name":"threadingtop", "children":[{"name": "threading", "size":1}]},{"name":"gziptop", "children":[{"name": "gzip", "size":0}]},{"name":"modeltop", "children":[{"name": "model", "size":1}]},{"name":"anyjsontop", "children":[{"name": "anyjson", "size":6}]},{"name":"pickletop", "children":[{"name": "pickle", "size":4}]},{"name":"hmactop", "children":[{"name": "hmac", "size":0}]}]}

// var json = {"name":"anant", "children":[{"name":"utilstop", "children":[{"name": "utils", "size":3}]},{"name":"cmd2top", "children":[{"name": "cmd2", "size":1}]},{"name":"subprocesstop", "children":[{"name": "subprocess", "size":1}]},{"name":"getpasstop", "children":[{"name": "getpass", "size":0}]},{"name":"teleporttop", "children":[{"name": "teleport", "size":16}]},{"name":"psycopg2top", "children":[{"name": "psycopg2", "size":2}]},{"name":"BeautifulSouptop", "children":[{"name": "BeautifulSoup", "size":0}]},{"name":"retop", "children":[{"name": "re", "size":0}]},{"name":"jsontop", "children":[{"name": "json", "size":7}]},{"name":"collectionstop", "children":[{"name": "collections", "size":2}]},{"name":"configtop", "children":[{"name": "config", "size":13}]},{"name":"relaytop", "children":[{"name": "relay", "size":20}]},{"name":"modelstop", "children":[{"name": "models", "size":306}]},{"name":"dbtop", "children":[{"name": "db", "size":182}]},{"name":"stemtop", "children":[{"name": "stem", "size":0}]},{"name":"utiltop", "children":[{"name": "util", "size":2}]},{"name":"scipytop", "children":[{"name": "scipy", "size":3}]},{"name":"datahubtop", "children":[{"name": "datahub", "size":0}]},{"name":"constantstop", "children":[{"name": "constants", "size":2}]},{"name":"thrifttop", "children":[{"name": "thrift", "size":0}]},{"name":"utctop", "children":[{"name": "utc", "size":0}]},{"name":"hashlibtop", "children":[{"name": "hashlib", "size":0}]},{"name":"tasktop", "children":[{"name": "task", "size":0}]},{"name":"loggingtop", "children":[{"name": "logging", "size":2}]},{"name":"ostop", "children":[{"name": "os", "size":2}]},{"name":"shlextop", "children":[{"name": "shlex", "size":0}]},{"name":"lamsontop", "children":[{"name": "lamson", "size":0}]},{"name":"optparsetop", "children":[{"name": "optparse", "size":0}]},{"name":"multiprocessingtop", "children":[{"name": "multiprocessing", "size":0}]}]}

// var json = {"name":"danielle", "children":[{"name":"__future__top", "children":[{"name": "__future__", "size":0}]},{"name":"stringtop", "children":[{"name": "string", "size":3}]},{"name":"UserDicttop", "children":[{"name": "UserDict", "size":8}]},{"name":"unittesttop", "children":[{"name": "unittest", "size":6}]},{"name":"randomtop", "children":[{"name": "random", "size":13}]},{"name":"htmlentitydefstop", "children":[{"name": "htmlentitydefs", "size":1}]},{"name":"matplotlibtop", "children":[{"name": "matplotlib", "size":3}]},{"name":"clustertop", "children":[{"name": "cluster", "size":4}]},{"name":"StringIOtop", "children":[{"name": "StringIO", "size":0}]},{"name":"tracebacktop", "children":[{"name": "traceback", "size":1}]},{"name":"pprinttop", "children":[{"name": "pprint", "size":0}]},{"name":"feedparsertop", "children":[{"name": "feedparser", "size":0}]},{"name":"chardettop", "children":[{"name": "chardet", "size":3}]},{"name":"gziptop", "children":[{"name": "gzip", "size":0}]},{"name":"numpytop", "children":[{"name": "numpy", "size":0}]}]}

// var json = {"name":"rob", "children":[{"name":"mimetypestop", "children":[{"name": "mimetypes", "size":0}]},{"name":"__future__top", "children":[{"name": "__future__", "size":0}]},{"name":"simplejsontop", "children":[{"name": "simplejson", "size":0}]},{"name":"modelstop", "children":[{"name": "models", "size":6967}]},{"name":"dbtop", "children":[{"name": "db", "size":7126}]},{"name":"randomtop", "children":[{"name": "random", "size":0}]},{"name":"htmlentitydefstop", "children":[{"name": "htmlentitydefs", "size":0}]},{"name":"textwraptop", "children":[{"name": "textwrap", "size":0}]},{"name":"subprocesstop", "children":[{"name": "subprocess", "size":0}]},{"name":"parsetop", "children":[{"name": "parse", "size":0}]},{"name":"statictop", "children":[{"name": "static", "size":0}]},{"name":"chunkstop", "children":[{"name": "chunks", "size":1}]},{"name":"loggingtop", "children":[{"name": "logging", "size":3}]},{"name":"typestop", "children":[{"name": "types", "size":0}]},{"name":"md5top", "children":[{"name": "md5", "size":0}]},{"name":"argparsetop", "children":[{"name": "argparse", "size":0}]},{"name":"hashlibtop", "children":[{"name": "hashlib", "size":1}]},{"name":"transactiontop", "children":[{"name": "transaction", "size":0}]},{"name":"PILtop", "children":[{"name": "PIL", "size":0}]},{"name":"setstop", "children":[{"name": "sets", "size":2}]},{"name":"generictop", "children":[{"name": "generic", "size":0}]},{"name":"ostop", "children":[{"name": "os", "size":18}]},{"name":"difflibtop", "children":[{"name": "difflib", "size":1}]},{"name":"urllibtop", "children":[{"name": "urllib", "size":4}]},{"name":"pdbtop", "children":[{"name": "pdb", "size":0}]},{"name":"retop", "children":[{"name": "re", "size":13}]},{"name":"jsontop", "children":[{"name": "json", "size":2}]},{"name":"collectionstop", "children":[{"name": "collections", "size":7}]},{"name":"doctesttop", "children":[{"name": "doctest", "size":0}]},{"name":"templatetop", "children":[{"name": "template", "size":1}]},{"name":"receivertop", "children":[{"name": "receiver", "size":0}]},{"name":"HTMLParsertop", "children":[{"name": "HTMLParser", "size":0}]},{"name":"optparsetop", "children":[{"name": "optparse", "size":0}]},{"name":"multiprocessingtop", "children":[{"name": "multiprocessing", "size":0}]},{"name":"crawlertop", "children":[{"name": "crawler", "size":0}]}]}

var json = {"name":"philip", "children":[{"name":"randomtop", "children":[{"name": "random", "size":2}]},{"name":"subprocesstop", "children":[{"name": "subprocess", "size":1}]},{"name":"iotop", "children":[{"name": "io", "size":0}]},{"name":"opentop", "children":[{"name": "open", "size":0}]},{"name":"PILtop", "children":[{"name": "PIL", "size":0}]},{"name":"pprinttop", "children":[{"name": "pprint", "size":0}]},{"name":"urllibtop", "children":[{"name": "urllib", "size":1}]},{"name":"retop", "children":[{"name": "re", "size":10}]},{"name":"jsontop", "children":[{"name": "json", "size":10}]},{"name":"GChartWrappertop", "children":[{"name": "GChartWrapper", "size":3}]},{"name":"collectionstop", "children":[{"name": "collections", "size":2}]},{"name":"sqlite3top", "children":[{"name": "sqlite3", "size":0}]},{"name":"newtop", "children":[{"name": "new", "size":0}]},{"name":"cgitop", "children":[{"name": "cgi", "size":0}]},{"name":"optparsetop", "children":[{"name": "optparse", "size":0}]},{"name":"inspecttop", "children":[{"name": "inspect", "size":1}]},{"name":"dbtop", "children":[{"name": "db", "size":7}]},{"name":"urllib2top", "children":[{"name": "urllib2", "size":0}]},{"name":"webbrowsertop", "children":[{"name": "webbrowser", "size":0}]},{"name":"copytop", "children":[{"name": "copy", "size":1}]},{"name":"typestop", "children":[{"name": "types", "size":7}]},{"name":"hashlibtop", "children":[{"name": "hashlib", "size":0}]},{"name":"loggingtop", "children":[{"name": "logging", "size":1}]},{"name":"StringIOtop", "children":[{"name": "StringIO", "size":0}]},{"name":"webapp2top", "children":[{"name": "webapp2", "size":4}]},{"name":"tracebacktop", "children":[{"name": "traceback", "size":0}]},{"name":"shatop", "children":[{"name": "sha", "size":0}]},{"name":"ostop", "children":[{"name": "os", "size":17}]}]}

var r = 960,
    format = d3.format(",d"),
    fill = d3.scale.category20c();

var bubble = d3.layout.pack()
    .sort(null)
    .size([r, r])
    .padding(1.5);

var vis = d3.select("#chart").append("svg")
    .attr("width", r)
    .attr("height", r)
    .attr("class", "bubble");


  var node = vis.selectAll("g.node")
      .data(bubble.nodes(classes(json))
      .filter(function(d) { return !d.children; }))
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

  node.append("title")
      .text(function(d) { return d.className + ": " + format(d.value); });

  node.append("circle")
      .attr("r", function(d) { return d.r; })
      .style("fill", function(d) { return fill(d.packageName); });

  node.append("text")
      .attr("text-anchor", "middle")
      .style("font-size", "15px") 
      .attr("dy", ".3em")
      .text(function(d) { return d.className.substring(0, d.r / 3); });

// Returns a flattened hierarchy containing all leaf nodes under the root.
function classes(root) {
  var classes = [];

  function recurse(name, node) {
    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });
    else classes.push({packageName: name, className: node.name, value: node.size});
  }

  recurse(null, root);
  return {children: classes};
}

</script>